import{d as b,r as l,o as B,c as k,a as v,b as t,t as h,e as r,w as d,f as i,u as $,h as q,F as N,g as V,i as j,j as F,k as R,_ as U}from"./index-B2xfaXjR.js";const D={class:"products"},E={class:"products-list"},I={class:"list-header"},L={class:"result-info"},M={class:"grid-view"},T=["src","onClick"],A={class:"product-info"},G=["onClick"],H={class:"product-price"},J={class:"product-actions"},K={class:"pagination-wrapper"},O=b({__name:"Products",setup(Q){const x=j(),f=$(),u=l([]),p=l(0),n=l(1),c=l(12);function _(s){x.push(`/product/${s}`)}async function g(){const s={page:n.value,limit:c.value};f.query.search&&(s.q=String(f.query.search));const{data:a}=await q.get("/api/catalog",{params:s});a?.success&&(u.value=(a.data?.items||[]).map(o=>({id:o.id,name:o.name,price:o.retail_price,image:o.media?.find?.(m=>m.is_main)?.url||o.image_url||"https://via.placeholder.com/300x300?text=Product"})),p.value=a.data?.pagination?.total||u.value.length)}function y(s){c.value=s,n.value=1,g()}function w(s){n.value=s,g()}return B(g),(s,a)=>{const o=i("el-button"),m=i("el-card"),z=i("el-col"),P=i("el-row"),S=i("el-pagination");return v(),k("div",D,[t("div",E,[t("div",I,[t("div",L,[t("span",null,"共 "+h(p.value)+" 件服装",1)])]),t("div",M,[r(P,{gutter:20},{default:d(()=>[(v(!0),k(N,null,V(u.value,e=>(v(),F(z,{key:e.id,xs:12,sm:8,md:6,lg:4},{default:d(()=>[r(m,{"body-style":{padding:"0px"},class:"product-card",shadow:"hover"},{default:d(()=>[t("img",{src:e.image,class:"product-image",onClick:C=>_(e.id)},null,8,T),t("div",A,[t("h4",{class:"product-name",onClick:C=>_(e.id)},h(e.name),9,G),t("div",H,"¥"+h(e.price),1),t("div",J,[r(o,{size:"small",type:"primary",onClick:C=>_(e.id)},{default:d(()=>[...a[2]||(a[2]=[R("查看详情",-1)])]),_:1},8,["onClick"])])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),t("div",K,[r(S,{"current-page":n.value,"onUpdate:currentPage":a[0]||(a[0]=e=>n.value=e),"page-size":c.value,"onUpdate:pageSize":a[1]||(a[1]=e=>c.value=e),"page-sizes":[12,24,48,96],total:p.value,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:y,onCurrentChange:w},null,8,["current-page","page-size","total"])])])])}}}),X=U(O,[["__scopeId","data-v-74b198c5"]]);export{X as default};
