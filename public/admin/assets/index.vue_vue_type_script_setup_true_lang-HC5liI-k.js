
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{b6 as G,r as x,aP as $,b7 as z,d as T,a4 as V,Y as D,b8 as F,X as A,$ as h,F as C,Z as W,G as X,I as _,o as m,w as g,j as s,b9 as Y,aR as U,ba as Z,A as I,bb as H,f as B,bc as J,a0 as O,az as Q,h as ee,t as M,g as te,bd as ae,al as oe,ab as R,L as re,a3 as ne,ai as N,aj as S,be as se,bf as le,a2 as ie,bg as ue,bh as de,aa as pe,ac as fe,e as ce}from"./index-CdiJTMf6.js";function ye(a,t){const e=G(!1,300),o=x(null),r=z();function u(){o.value=null,e.value=!1}function l(d,p){const y=d.currentTarget,n={x:d.clientX,y:d.clientY},i=ve(n,y.getBoundingClientRect()),f=ge(n,i),v=be(p.getBoundingClientRect()),q=_e([...f,...v]);o.value=q,e.value=!0}return $(d=>{if(a.value&&t.value){const p=n=>l(n,t.value),y=n=>l(n,a.value);a.value.addEventListener("pointerleave",p),t.value.addEventListener("pointerleave",y),d(()=>{var n,i;(n=a.value)==null||n.removeEventListener("pointerleave",p),(i=t.value)==null||i.removeEventListener("pointerleave",y)})}}),$(d=>{var p;if(o.value){const y=n=>{var b,w;if(!o.value||!(n.target instanceof HTMLElement))return;const i=n.target,f={x:n.clientX,y:n.clientY},v=((b=a.value)==null?void 0:b.contains(i))||((w=t.value)==null?void 0:w.contains(i)),q=!he(f,o.value),P=!!i.closest("[data-grace-area-trigger]");v?u():(q||P)&&(u(),r.trigger())};(p=a.value)==null||p.ownerDocument.addEventListener("pointermove",y),d(()=>{var n;return(n=a.value)==null?void 0:n.ownerDocument.removeEventListener("pointermove",y)})}}),{isPointerInTransit:e,onPointerExit:r.on}}function ve(a,t){const e=Math.abs(t.top-a.y),o=Math.abs(t.bottom-a.y),r=Math.abs(t.right-a.x),u=Math.abs(t.left-a.x);switch(Math.min(e,o,r,u)){case u:return"left";case r:return"right";case e:return"top";case o:return"bottom";default:throw new Error("unreachable")}}function ge(a,t,e=5){const o=[];switch(t){case"top":o.push({x:a.x-e,y:a.y+e},{x:a.x+e,y:a.y+e});break;case"bottom":o.push({x:a.x-e,y:a.y-e},{x:a.x+e,y:a.y-e});break;case"left":o.push({x:a.x+e,y:a.y-e},{x:a.x+e,y:a.y+e});break;case"right":o.push({x:a.x-e,y:a.y-e},{x:a.x-e,y:a.y+e});break}return o}function be(a){const{top:t,right:e,bottom:o,left:r}=a;return[{x:r,y:t},{x:e,y:t},{x:e,y:o},{x:r,y:o}]}function he(a,t){const{x:e,y:o}=a;let r=!1;for(let u=0,l=t.length-1;u<t.length;l=u++){const d=t[u].x,p=t[u].y,y=t[l].x,n=t[l].y;p>o!=n>o&&e<(y-d)*(o-p)/(n-p)+d&&(r=!r)}return r}function _e(a){const t=a.slice();return t.sort((e,o)=>e.x<o.x?-1:e.x>o.x?1:e.y<o.y?-1:e.y>o.y?1:0),me(t)}function me(a){if(a.length<=1)return a.slice();const t=[];for(let o=0;o<a.length;o++){const r=a[o];for(;t.length>=2;){const u=t[t.length-1],l=t[t.length-2];if((u.x-l.x)*(r.y-l.y)>=(u.y-l.y)*(r.x-l.x))t.pop();else break}t.push(r)}t.pop();const e=[];for(let o=a.length-1;o>=0;o--){const r=a[o];for(;e.length>=2;){const u=e[e.length-1],l=e[e.length-2];if((u.x-l.x)*(r.y-l.y)>=(u.y-l.y)*(r.x-l.x))e.pop();else break}e.push(r)}return e.pop(),t.length===1&&e.length===1&&t[0].x===e[0].x&&t[0].y===e[0].y?t:t.concat(e)}const[E,Te]=A("TooltipProvider");var Ce=T({inheritAttrs:!1,__name:"TooltipProvider",props:{delayDuration:{type:Number,required:!1,default:700},skipDelayDuration:{type:Number,required:!1,default:300},disableHoverableContent:{type:Boolean,required:!1,default:!1},disableClosingTrigger:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},ignoreNonKeyboardFocus:{type:Boolean,required:!1,default:!1}},setup(a){const t=a,{delayDuration:e,skipDelayDuration:o,disableHoverableContent:r,disableClosingTrigger:u,ignoreNonKeyboardFocus:l,disabled:d}=V(t);D();const p=x(!0),y=x(!1),{start:n,stop:i}=F(()=>{p.value=!0},o,{immediate:!1});return Te({isOpenDelayed:p,delayDuration:e,onOpen(){i(),p.value=!1},onClose(){n()},isPointerInTransitRef:y,disableHoverableContent:r,disableClosingTrigger:u,disabled:d,ignoreNonKeyboardFocus:l}),(f,v)=>h(f.$slots,"default")}}),qe=Ce;const K="tooltip.open",[L,we]=A("TooltipRoot");var Pe=T({__name:"TooltipRoot",props:{defaultOpen:{type:Boolean,required:!1,default:!1},open:{type:Boolean,required:!1,default:void 0},delayDuration:{type:Number,required:!1,default:void 0},disableHoverableContent:{type:Boolean,required:!1,default:void 0},disableClosingTrigger:{type:Boolean,required:!1,default:void 0},disabled:{type:Boolean,required:!1,default:void 0},ignoreNonKeyboardFocus:{type:Boolean,required:!1,default:void 0}},emits:["update:open"],setup(a,{emit:t}){const e=a,o=t;D();const r=E(),u=C(()=>{var c;return(c=e.disableHoverableContent)!=null?c:r.disableHoverableContent.value}),l=C(()=>{var c;return(c=e.disableClosingTrigger)!=null?c:r.disableClosingTrigger.value}),d=C(()=>{var c;return(c=e.disabled)!=null?c:r.disabled.value}),p=C(()=>{var c;return(c=e.delayDuration)!=null?c:r.delayDuration.value}),y=C(()=>{var c;return(c=e.ignoreNonKeyboardFocus)!=null?c:r.ignoreNonKeyboardFocus.value}),n=W(e,"open",o,{defaultValue:e.defaultOpen,passive:e.open===void 0});X(n,c=>{r.onClose&&(c?(r.onOpen(),document.dispatchEvent(new CustomEvent(K))):r.onClose())});const i=x(!1),f=x(),v=C(()=>n.value?i.value?"delayed-open":"instant-open":"closed"),{start:q,stop:P}=F(()=>{i.value=!0,n.value=!0},p,{immediate:!1});function b(){P(),i.value=!1,n.value=!0}function w(){P(),n.value=!1}function k(){q()}return we({contentId:"",open:n,stateAttribute:v,trigger:f,onTriggerChange(c){f.value=c},onTriggerEnter(){r.isOpenDelayed.value?k():b()},onTriggerLeave(){u.value?w():P()},onOpen:b,onClose:w,disableHoverableContent:u,disableClosingTrigger:l,disabled:d,ignoreNonKeyboardFocus:y}),(c,Ie)=>(m(),_(s(Y),null,{default:g(()=>[h(c.$slots,"default",{open:s(n)})]),_:3}))}}),Be=Pe,xe=T({__name:"TooltipContentImpl",props:{ariaLabel:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},side:{type:null,required:!1,default:"top"},sideOffset:{type:Number,required:!1,default:0},align:{type:null,required:!1,default:"center"},alignOffset:{type:Number,required:!1},avoidCollisions:{type:Boolean,required:!1,default:!0},collisionBoundary:{type:null,required:!1,default:()=>[]},collisionPadding:{type:[Number,Object],required:!1,default:0},arrowPadding:{type:Number,required:!1,default:0},sticky:{type:String,required:!1,default:"partial"},hideWhenDetached:{type:Boolean,required:!1,default:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1}},emits:["escapeKeyDown","pointerDownOutside"],setup(a,{emit:t}){const e=a,o=t,r=L(),{forwardRef:u}=D(),l=U(),d=C(()=>{var n;return(n=l.default)==null?void 0:n.call(l,{})}),p=C(()=>{var f;if(e.ariaLabel)return e.ariaLabel;let n="";function i(v){typeof v.children=="string"&&v.type!==Z?n+=v.children:Array.isArray(v.children)&&v.children.forEach(q=>i(q))}return(f=d.value)==null||f.forEach(v=>i(v)),n}),y=C(()=>{const{ariaLabel:n,...i}=e;return i});return I(()=>{H(window,"scroll",n=>{const i=n.target;i!=null&&i.contains(r.trigger.value)&&r.onClose()}),H(window,K,r.onClose)}),(n,i)=>(m(),_(s(ae),{"as-child":"","disable-outside-pointer-events":!1,onEscapeKeyDown:i[0]||(i[0]=f=>o("escapeKeyDown",f)),onPointerDownOutside:i[1]||(i[1]=f=>{var v;s(r).disableClosingTrigger.value&&((v=s(r).trigger.value)!=null&&v.contains(f.target))&&f.preventDefault(),o("pointerDownOutside",f)}),onFocusOutside:i[2]||(i[2]=te(()=>{},["prevent"])),onDismiss:i[3]||(i[3]=f=>s(r).onClose())},{default:g(()=>[B(s(J),O({ref:s(u),"data-state":s(r).stateAttribute.value},{...n.$attrs,...y.value},{style:{"--reka-tooltip-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-tooltip-content-available-width":"var(--reka-popper-available-width)","--reka-tooltip-content-available-height":"var(--reka-popper-available-height)","--reka-tooltip-trigger-width":"var(--reka-popper-anchor-width)","--reka-tooltip-trigger-height":"var(--reka-popper-anchor-height)"}}),{default:g(()=>[h(n.$slots,"default"),B(s(Q),{id:s(r).contentId,role:"tooltip"},{default:g(()=>[ee(M(p.value),1)]),_:1},8,["id"])]),_:3},16,["data-state"])]),_:3}))}}),j=xe,De=T({__name:"TooltipContentHoverable",props:{ariaLabel:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1}},setup(a){const e=oe(a),{forwardRef:o,currentElement:r}=D(),{trigger:u,onClose:l}=L(),d=E(),{isPointerInTransit:p,onPointerExit:y}=ye(u,r);return d.isPointerInTransitRef=p,y(()=>{l()}),(n,i)=>(m(),_(j,O({ref:s(o)},s(e)),{default:g(()=>[h(n.$slots,"default")]),_:3},16))}}),Oe=De,ke=T({__name:"TooltipContent",props:{forceMount:{type:Boolean,required:!1},ariaLabel:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},side:{type:null,required:!1,default:"top"},sideOffset:{type:Number,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1}},emits:["escapeKeyDown","pointerDownOutside"],setup(a,{emit:t}){const e=a,o=t,r=L(),u=R(e,o),{forwardRef:l}=D();return(d,p)=>(m(),_(s(ne),{present:d.forceMount||s(r).open.value},{default:g(()=>[(m(),_(re(s(r).disableHoverableContent.value?j:Oe),O({ref:s(l)},s(u)),{default:g(()=>[h(d.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),Ne=ke,Se=T({__name:"TooltipPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(a){const t=a;return(e,o)=>(m(),_(s(se),N(S(t)),{default:g(()=>[h(e.$slots,"default")]),_:3},16))}}),Le=Se,Re=T({__name:"TooltipTrigger",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(a){const t=a,e=L(),o=E();e.contentId||(e.contentId=le(void 0,"reka-tooltip-content"));const{forwardRef:r,currentElement:u}=D(),l=x(!1),d=x(!1),p=C(()=>e.disabled.value?{}:{click:P,focus:v,pointermove:i,pointerleave:f,pointerdown:n,blur:q});I(()=>{e.onTriggerChange(u.value)});function y(){setTimeout(()=>{l.value=!1},1)}function n(){e.open&&!e.disableClosingTrigger.value&&e.onClose(),l.value=!0,document.addEventListener("pointerup",y,{once:!0})}function i(b){b.pointerType!=="touch"&&!d.value&&!o.isPointerInTransitRef.value&&(e.onTriggerEnter(),d.value=!0)}function f(){e.onTriggerLeave(),d.value=!1}function v(b){var w,k;l.value||e.ignoreNonKeyboardFocus.value&&!((k=(w=b.target).matches)!=null&&k.call(w,":focus-visible"))||e.onOpen()}function q(){e.onClose()}function P(){e.disableClosingTrigger.value||e.onClose()}return(b,w)=>(m(),_(s(de),{"as-child":"",reference:b.reference},{default:g(()=>[B(s(ie),O({ref:s(r),"aria-describedby":s(e).open.value?s(e).contentId:void 0,"data-state":s(e).stateAttribute.value,as:b.as,"as-child":t.asChild,"data-grace-area-trigger":""},ue(p.value)),{default:g(()=>[h(b.$slots,"default")]),_:3},16,["aria-describedby","data-state","as","as-child"])]),_:3},8,["reference"]))}}),Ee=Re;const $e=T({__name:"Tooltip",props:{defaultOpen:{type:Boolean},open:{type:Boolean},delayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},emits:["update:open"],setup(a,{emit:t}){const r=R(a,t);return(u,l)=>(m(),_(s(Be),N(S(s(r))),{default:g(()=>[h(u.$slots,"default")]),_:3},16))}}),He=T({inheritAttrs:!1,__name:"TooltipContent",props:{forceMount:{type:Boolean},ariaLabel:{},asChild:{type:Boolean},as:{},side:{},sideOffset:{default:4},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},class:{}},emits:["escapeKeyDown","pointerDownOutside"],setup(a,{emit:t}){const e=a,o=t,r=pe(e,"class"),u=R(r,o);return(l,d)=>(m(),_(s(Le),null,{default:g(()=>[B(s(Ne),O({...s(u),...l.$attrs},{class:s(fe)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e.class)}),{default:g(()=>[h(l.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),Fe=T({__name:"TooltipProvider",props:{delayDuration:{},skipDelayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},setup(a){const t=a;return(e,o)=>(m(),_(s(qe),N(S(t)),{default:g(()=>[h(e.$slots,"default")]),_:3},16))}}),Ae=T({__name:"TooltipTrigger",props:{reference:{},asChild:{type:Boolean},as:{}},setup(a){const t=a;return(e,o)=>(m(),_(s(Ee),N(S(t)),{default:g(()=>[h(e.$slots,"default")]),_:3},16))}}),Ke=T({name:"FaTooltip",__name:"index",props:{text:{default:""},delay:{default:300},side:{},align:{},disabled:{type:Boolean}},setup(a){return(t,e)=>(m(),_(s(Fe),{"delay-duration":t.delay,disabled:t.disabled},{default:g(()=>[B(s($e),null,{default:g(()=>[B(s(Ae),{"as-child":""},{default:g(()=>[h(t.$slots,"default")]),_:3}),B(s(He),{side:t.side,align:t.align,class:"z-10000 text-xs"},{default:g(()=>[h(t.$slots,"content",{},()=>[ce("p",null,M(t.text),1)])]),_:3},8,["side","align"])]),_:3})]),_:3},8,["delay-duration","disabled"]))}});export{Ke as _};
