
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{b3 as G,r as x,aM as $,b4 as V,d as T,a1 as z,V as D,b5 as F,U as A,X as _,B as C,W,C as X,F as h,o as m,w as g,j as s,b6 as Y,aO as U,b7 as J,x as I,b8 as H,f as P,b9 as Q,Y as O,aw as Z,h as ee,t as M,g as te,ba as oe,ai as ae,a8 as E,I as re,a0 as ne,af as N,ag as S,bb as se,bc as le,$ as ie,bd as ue,be as de,a7 as pe,a9 as fe,a as ce}from"./index-BOHDOdY5.js";function ye(o,t){const e=G(!1,300),a=x(null),r=V();function u(){a.value=null,e.value=!1}function l(d,p){const y=d.currentTarget,n={x:d.clientX,y:d.clientY},i=ve(n,y.getBoundingClientRect()),f=ge(n,i),v=be(p.getBoundingClientRect()),q=he([...f,...v]);a.value=q,e.value=!0}return $(d=>{if(o.value&&t.value){const p=n=>l(n,t.value),y=n=>l(n,o.value);o.value.addEventListener("pointerleave",p),t.value.addEventListener("pointerleave",y),d(()=>{var n,i;(n=o.value)==null||n.removeEventListener("pointerleave",p),(i=t.value)==null||i.removeEventListener("pointerleave",y)})}}),$(d=>{var p;if(a.value){const y=n=>{var b,w;if(!a.value||!(n.target instanceof HTMLElement))return;const i=n.target,f={x:n.clientX,y:n.clientY},v=((b=o.value)==null?void 0:b.contains(i))||((w=t.value)==null?void 0:w.contains(i)),q=!_e(f,a.value),B=!!i.closest("[data-grace-area-trigger]");v?u():(q||B)&&(u(),r.trigger())};(p=o.value)==null||p.ownerDocument.addEventListener("pointermove",y),d(()=>{var n;return(n=o.value)==null?void 0:n.ownerDocument.removeEventListener("pointermove",y)})}}),{isPointerInTransit:e,onPointerExit:r.on}}function ve(o,t){const e=Math.abs(t.top-o.y),a=Math.abs(t.bottom-o.y),r=Math.abs(t.right-o.x),u=Math.abs(t.left-o.x);switch(Math.min(e,a,r,u)){case u:return"left";case r:return"right";case e:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function ge(o,t,e=5){const a=[];switch(t){case"top":a.push({x:o.x-e,y:o.y+e},{x:o.x+e,y:o.y+e});break;case"bottom":a.push({x:o.x-e,y:o.y-e},{x:o.x+e,y:o.y-e});break;case"left":a.push({x:o.x+e,y:o.y-e},{x:o.x+e,y:o.y+e});break;case"right":a.push({x:o.x-e,y:o.y-e},{x:o.x-e,y:o.y+e});break}return a}function be(o){const{top:t,right:e,bottom:a,left:r}=o;return[{x:r,y:t},{x:e,y:t},{x:e,y:a},{x:r,y:a}]}function _e(o,t){const{x:e,y:a}=o;let r=!1;for(let u=0,l=t.length-1;u<t.length;l=u++){const d=t[u].x,p=t[u].y,y=t[l].x,n=t[l].y;p>a!=n>a&&e<(y-d)*(a-p)/(n-p)+d&&(r=!r)}return r}function he(o){const t=o.slice();return t.sort((e,a)=>e.x<a.x?-1:e.x>a.x?1:e.y<a.y?-1:e.y>a.y?1:0),me(t)}function me(o){if(o.length<=1)return o.slice();const t=[];for(let a=0;a<o.length;a++){const r=o[a];for(;t.length>=2;){const u=t[t.length-1],l=t[t.length-2];if((u.x-l.x)*(r.y-l.y)>=(u.y-l.y)*(r.x-l.x))t.pop();else break}t.push(r)}t.pop();const e=[];for(let a=o.length-1;a>=0;a--){const r=o[a];for(;e.length>=2;){const u=e[e.length-1],l=e[e.length-2];if((u.x-l.x)*(r.y-l.y)>=(u.y-l.y)*(r.x-l.x))e.pop();else break}e.push(r)}return e.pop(),t.length===1&&e.length===1&&t[0].x===e[0].x&&t[0].y===e[0].y?t:t.concat(e)}const[R,Te]=A("TooltipProvider");var Ce=T({inheritAttrs:!1,__name:"TooltipProvider",props:{delayDuration:{type:Number,required:!1,default:700},skipDelayDuration:{type:Number,required:!1,default:300},disableHoverableContent:{type:Boolean,required:!1,default:!1},disableClosingTrigger:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},ignoreNonKeyboardFocus:{type:Boolean,required:!1,default:!1}},setup(o){const t=o,{delayDuration:e,skipDelayDuration:a,disableHoverableContent:r,disableClosingTrigger:u,ignoreNonKeyboardFocus:l,disabled:d}=z(t);D();const p=x(!0),y=x(!1),{start:n,stop:i}=F(()=>{p.value=!0},a,{immediate:!1});return Te({isOpenDelayed:p,delayDuration:e,onOpen(){i(),p.value=!1},onClose(){n()},isPointerInTransitRef:y,disableHoverableContent:r,disableClosingTrigger:u,disabled:d,ignoreNonKeyboardFocus:l}),(f,v)=>_(f.$slots,"default")}}),qe=Ce;const K="tooltip.open",[L,we]=A("TooltipRoot");var Be=T({__name:"TooltipRoot",props:{defaultOpen:{type:Boolean,required:!1,default:!1},open:{type:Boolean,required:!1,default:void 0},delayDuration:{type:Number,required:!1,default:void 0},disableHoverableContent:{type:Boolean,required:!1,default:void 0},disableClosingTrigger:{type:Boolean,required:!1,default:void 0},disabled:{type:Boolean,required:!1,default:void 0},ignoreNonKeyboardFocus:{type:Boolean,required:!1,default:void 0}},emits:["update:open"],setup(o,{emit:t}){const e=o,a=t;D();const r=R(),u=C(()=>{var c;return(c=e.disableHoverableContent)!=null?c:r.disableHoverableContent.value}),l=C(()=>{var c;return(c=e.disableClosingTrigger)!=null?c:r.disableClosingTrigger.value}),d=C(()=>{var c;return(c=e.disabled)!=null?c:r.disabled.value}),p=C(()=>{var c;return(c=e.delayDuration)!=null?c:r.delayDuration.value}),y=C(()=>{var c;return(c=e.ignoreNonKeyboardFocus)!=null?c:r.ignoreNonKeyboardFocus.value}),n=W(e,"open",a,{defaultValue:e.defaultOpen,passive:e.open===void 0});X(n,c=>{r.onClose&&(c?(r.onOpen(),document.dispatchEvent(new CustomEvent(K))):r.onClose())});const i=x(!1),f=x(),v=C(()=>n.value?i.value?"delayed-open":"instant-open":"closed"),{start:q,stop:B}=F(()=>{i.value=!0,n.value=!0},p,{immediate:!1});function b(){B(),i.value=!1,n.value=!0}function w(){B(),n.value=!1}function k(){q()}return we({contentId:"",open:n,stateAttribute:v,trigger:f,onTriggerChange(c){f.value=c},onTriggerEnter(){r.isOpenDelayed.value?k():b()},onTriggerLeave(){u.value?w():B()},onOpen:b,onClose:w,disableHoverableContent:u,disableClosingTrigger:l,disabled:d,ignoreNonKeyboardFocus:y}),(c,Ie)=>(m(),h(s(Y),null,{default:g(()=>[_(c.$slots,"default",{open:s(n)})]),_:3}))}}),Pe=Be,xe=T({__name:"TooltipContentImpl",props:{ariaLabel:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},side:{type:null,required:!1,default:"top"},sideOffset:{type:Number,required:!1,default:0},align:{type:null,required:!1,default:"center"},alignOffset:{type:Number,required:!1},avoidCollisions:{type:Boolean,required:!1,default:!0},collisionBoundary:{type:null,required:!1,default:()=>[]},collisionPadding:{type:[Number,Object],required:!1,default:0},arrowPadding:{type:Number,required:!1,default:0},sticky:{type:String,required:!1,default:"partial"},hideWhenDetached:{type:Boolean,required:!1,default:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1}},emits:["escapeKeyDown","pointerDownOutside"],setup(o,{emit:t}){const e=o,a=t,r=L(),{forwardRef:u}=D(),l=U(),d=C(()=>{var n;return(n=l.default)==null?void 0:n.call(l,{})}),p=C(()=>{var f;if(e.ariaLabel)return e.ariaLabel;let n="";function i(v){typeof v.children=="string"&&v.type!==J?n+=v.children:Array.isArray(v.children)&&v.children.forEach(q=>i(q))}return(f=d.value)==null||f.forEach(v=>i(v)),n}),y=C(()=>{const{ariaLabel:n,...i}=e;return i});return I(()=>{H(window,"scroll",n=>{const i=n.target;i!=null&&i.contains(r.trigger.value)&&r.onClose()}),H(window,K,r.onClose)}),(n,i)=>(m(),h(s(oe),{"as-child":"","disable-outside-pointer-events":!1,onEscapeKeyDown:i[0]||(i[0]=f=>a("escapeKeyDown",f)),onPointerDownOutside:i[1]||(i[1]=f=>{var v;s(r).disableClosingTrigger.value&&((v=s(r).trigger.value)!=null&&v.contains(f.target))&&f.preventDefault(),a("pointerDownOutside",f)}),onFocusOutside:i[2]||(i[2]=te(()=>{},["prevent"])),onDismiss:i[3]||(i[3]=f=>s(r).onClose())},{default:g(()=>[P(s(Q),O({ref:s(u),"data-state":s(r).stateAttribute.value},{...n.$attrs,...y.value},{style:{"--reka-tooltip-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-tooltip-content-available-width":"var(--reka-popper-available-width)","--reka-tooltip-content-available-height":"var(--reka-popper-available-height)","--reka-tooltip-trigger-width":"var(--reka-popper-anchor-width)","--reka-tooltip-trigger-height":"var(--reka-popper-anchor-height)"}}),{default:g(()=>[_(n.$slots,"default"),P(s(Z),{id:s(r).contentId,role:"tooltip"},{default:g(()=>[ee(M(p.value),1)]),_:1},8,["id"])]),_:3},16,["data-state"])]),_:3}))}}),j=xe,De=T({__name:"TooltipContentHoverable",props:{ariaLabel:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1}},setup(o){const e=ae(o),{forwardRef:a,currentElement:r}=D(),{trigger:u,onClose:l}=L(),d=R(),{isPointerInTransit:p,onPointerExit:y}=ye(u,r);return d.isPointerInTransitRef=p,y(()=>{l()}),(n,i)=>(m(),h(j,O({ref:s(a)},s(e)),{default:g(()=>[_(n.$slots,"default")]),_:3},16))}}),Oe=De,ke=T({__name:"TooltipContent",props:{forceMount:{type:Boolean,required:!1},ariaLabel:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},side:{type:null,required:!1,default:"top"},sideOffset:{type:Number,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1}},emits:["escapeKeyDown","pointerDownOutside"],setup(o,{emit:t}){const e=o,a=t,r=L(),u=E(e,a),{forwardRef:l}=D();return(d,p)=>(m(),h(s(ne),{present:d.forceMount||s(r).open.value},{default:g(()=>[(m(),h(re(s(r).disableHoverableContent.value?j:Oe),O({ref:s(l)},s(u)),{default:g(()=>[_(d.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),Ne=ke,Se=T({__name:"TooltipPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(o){const t=o;return(e,a)=>(m(),h(s(se),N(S(t)),{default:g(()=>[_(e.$slots,"default")]),_:3},16))}}),Le=Se,Ee=T({__name:"TooltipTrigger",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(o){const t=o,e=L(),a=R();e.contentId||(e.contentId=le(void 0,"reka-tooltip-content"));const{forwardRef:r,currentElement:u}=D(),l=x(!1),d=x(!1),p=C(()=>e.disabled.value?{}:{click:B,focus:v,pointermove:i,pointerleave:f,pointerdown:n,blur:q});I(()=>{e.onTriggerChange(u.value)});function y(){setTimeout(()=>{l.value=!1},1)}function n(){e.open&&!e.disableClosingTrigger.value&&e.onClose(),l.value=!0,document.addEventListener("pointerup",y,{once:!0})}function i(b){b.pointerType!=="touch"&&!d.value&&!a.isPointerInTransitRef.value&&(e.onTriggerEnter(),d.value=!0)}function f(){e.onTriggerLeave(),d.value=!1}function v(b){var w,k;l.value||e.ignoreNonKeyboardFocus.value&&!((k=(w=b.target).matches)!=null&&k.call(w,":focus-visible"))||e.onOpen()}function q(){e.onClose()}function B(){e.disableClosingTrigger.value||e.onClose()}return(b,w)=>(m(),h(s(de),{"as-child":"",reference:b.reference},{default:g(()=>[P(s(ie),O({ref:s(r),"aria-describedby":s(e).open.value?s(e).contentId:void 0,"data-state":s(e).stateAttribute.value,as:b.as,"as-child":t.asChild,"data-grace-area-trigger":""},ue(p.value)),{default:g(()=>[_(b.$slots,"default")]),_:3},16,["aria-describedby","data-state","as","as-child"])]),_:3},8,["reference"]))}}),Re=Ee;const $e=T({__name:"Tooltip",props:{defaultOpen:{type:Boolean},open:{type:Boolean},delayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},emits:["update:open"],setup(o,{emit:t}){const r=E(o,t);return(u,l)=>(m(),h(s(Pe),N(S(s(r))),{default:g(()=>[_(u.$slots,"default")]),_:3},16))}}),He=T({inheritAttrs:!1,__name:"TooltipContent",props:{forceMount:{type:Boolean},ariaLabel:{},asChild:{type:Boolean},as:{},side:{},sideOffset:{default:4},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},class:{}},emits:["escapeKeyDown","pointerDownOutside"],setup(o,{emit:t}){const e=o,a=t,r=pe(e,"class"),u=E(r,a);return(l,d)=>(m(),h(s(Le),null,{default:g(()=>[P(s(Ne),O({...s(u),...l.$attrs},{class:s(fe)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e.class)}),{default:g(()=>[_(l.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),Fe=T({__name:"TooltipProvider",props:{delayDuration:{},skipDelayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},setup(o){const t=o;return(e,a)=>(m(),h(s(qe),N(S(t)),{default:g(()=>[_(e.$slots,"default")]),_:3},16))}}),Ae=T({__name:"TooltipTrigger",props:{reference:{},asChild:{type:Boolean},as:{}},setup(o){const t=o;return(e,a)=>(m(),h(s(Re),N(S(t)),{default:g(()=>[_(e.$slots,"default")]),_:3},16))}}),Ke=T({name:"FaTooltip",__name:"index",props:{text:{default:""},delay:{default:300},side:{},align:{},disabled:{type:Boolean}},setup(o){return(t,e)=>(m(),h(s(Fe),{"delay-duration":t.delay,disabled:t.disabled},{default:g(()=>[P(s($e),null,{default:g(()=>[P(s(Ae),{"as-child":""},{default:g(()=>[_(t.$slots,"default")]),_:3}),P(s(He),{side:t.side,align:t.align,class:"z-10000 text-xs"},{default:g(()=>[_(t.$slots,"content",{},()=>[ce("p",null,M(t.text),1)])]),_:3},8,["side","align"])]),_:3})]),_:3},8,["delay-duration","disabled"]))}});export{Ke as _};
